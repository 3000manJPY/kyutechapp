!function(t){"use strict";var e={slide:0,delay:5e3,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},n={},i=function(n,i){this.elmt=n,this.settings=t.extend({},e,t.vegas.defaults,i),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.$elmt=t(n),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==!1&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==!1&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:t.vegas.isVideoCompatible()},this.settings.shuffle===!0&&this.shuffle(),this._init()};i.prototype={_init:function(){var e,n,i,o="BODY"===this.elmt.tagName,r=this.settings.timer,s=this.settings.overlay,a=this;this._preload(),o||(this.$elmt.css("height",this.$elmt.css("height")),e=t('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||e.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo(e),this.elmt.innerHTML=""),r&&this.support.transition&&(i=t('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=i,this.$elmt.prepend(i)),s&&(n=t('<div class="vegas-overlay">'),"string"==typeof s&&n.css("background-image","url("+s+")"),this.$overlay=n,this.$elmt.prepend(n)),this.$elmt.addClass("vegas-container"),o||this.$elmt.append(e),setTimeout(function(){a.trigger("init"),a._goto(a.slide),a.settings.autoplay&&a.trigger("play")},1)},_preload:function(){var t,e,n;for(n=0;n<this.settings.slides.length;n++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[n].src&&(e=new Image,e.src=this.settings.slides[n].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[n].video&&(t=this._video(this.settings.slides[n].video instanceof Array?this.settings.slides[n].video:this.settings.slides[n].video.src))},_random:function(t){return t[Math.floor(Math.random()*(t.length-1))]},_slideShow:function(){var t=this;this.total>1&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){t.next()},this._options("delay")))},_timer:function(t){var e=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.paused||this.noshow||t&&setTimeout(function(){e.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",e._options("delay")-100+"ms")},100))},_video:function(t){var e,i,o=t.toString();return n[o]?n[o]:(t instanceof Array==!1&&(t=[t]),e=document.createElement("video"),e.preload=!0,t.forEach(function(t){i=document.createElement("source"),i.src=t,e.appendChild(i)}),n[o]=e,e)},_fadeOutSound:function(t,e){var n=this,i=e/10,o=t.volume-.09;o>0?(t.volume=o,setTimeout(function(){n._fadeOutSound(t,e)},i)):t.pause()},_fadeInSound:function(t,e){var n=this,i=e/10,o=t.volume+.09;1>o&&(t.volume=o,setTimeout(function(){n._fadeInSound(t,e)},i))},_options:function(t,e){return void 0===e&&(e=this.slide),void 0!==this.settings.slides[e][t]?this.settings.slides[e][t]:this.settings[t]},_goto:function(e){function n(){m._timer(!0),setTimeout(function(){y&&(m.support.transition?(l.css("transition","all "+b+"ms").addClass("vegas-transition-"+y+"-out"),l.each(function(){var t=l.find("video").get(0);t&&(t.volume=1,m._fadeOutSound(t,b))}),i.css("transition","all "+b+"ms").addClass("vegas-transition-"+y+"-in")):i.fadeIn(b));for(var t=0;t<l.length-4;t++)l.eq(t).remove();m.trigger("walk"),m._slideShow()},100)}"undefined"==typeof this.settings.slides[e]&&(e=0),this.slide=e;var i,o,r,s,a,l=this.$elmt.children(".vegas-slide"),u=this.settings.slides[e].src,c=this.settings.slides[e].video,d=this._options("delay"),h=this._options("align"),p=this._options("valign"),f=this._options("color")||this.$elmt.css("background-color"),g=this._options("cover")?"cover":"contain",m=this,v=l.length,y=this._options("transition"),b=this._options("transitionDuration"),w=this._options("animation"),x=this._options("animationDuration");("random"===y||y instanceof Array)&&(y=this._random(y instanceof Array?y:this.transitions)),("random"===w||w instanceof Array)&&(w=this._random(w instanceof Array?w:this.animations)),("auto"===b||b>d)&&(b=d),"auto"===x&&(x=d),i=t('<div class="vegas-slide"></div>'),this.support.transition&&y&&i.addClass("vegas-transition-"+y),this.support.video&&c?(s=this._video(c instanceof Array?c:c.src),s.loop=void 0!==c.loop?c.loop:!0,s.muted=void 0!==c.mute?c.mute:!0,s.muted===!1?(s.volume=0,this._fadeInSound(s,b)):s.pause(),r=t(s).addClass("vegas-video").css("background-color",f),this.support.objectFit?r.css("object-position",h+" "+p).css("object-fit",g).css("width","100%").css("height","100%"):"contain"===g&&r.css("width","100%").css("height","100%"),i.append(r)):(a=new Image,o=t('<div class="vegas-slide-inner"></div>').css("background-image","url("+u+")").css("background-color",f).css("background-position",h+" "+p).css("background-size",g),this.support.transition&&w&&o.addClass("vegas-animation-"+w).css("animation-duration",x+"ms"),i.append(o)),this.support.transition||i.css("display","none"),v?l.eq(v-1).after(i):this.$elmt.prepend(i),m._timer(!1),s?(4===s.readyState&&(s.currentTime=0),s.play(),n()):(a.src=u,a.onload=n)},shuffle:function(){for(var t,e,n=this.total-1;n>0;n--)e=Math.floor(Math.random()*(n+1)),t=this.settings.slides[n],this.settings.slides[n]=this.settings.slides[e],this.settings.slides[e]=t},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(t){return t?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(t){0>t||t>this.total-1||t===this.slide||(this.slide=t,this._goto(this.slide))},next:function(){this.slide++,this.slide>=this.total&&(this.slide=0),this._goto(this.slide)},previous:function(){this.slide--,this.slide<0&&(this.slide=this.total-1),this._goto(this.slide)},trigger:function(t){var e=[];e="init"===t?[this.settings]:[this.slide,this.settings.slides[this.slide]],this.$elmt.trigger("vegas"+t,e),"function"==typeof this.settings[t]&&this.settings[t].apply(this.$elmt,e)},options:function(n,i){var o=this.settings.slides.slice();if("object"==typeof n)this.settings=t.extend({},e,t.vegas.defaults,n);else{if("string"!=typeof n)return this.settings;if(void 0===i)return this.settings[n];this.settings[n]=i}this.settings.slides!==o&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},t.fn.vegas=function(t){var e,n=arguments,o=!1;if(void 0===t||"object"==typeof t)return this.each(function(){this._vegas||(this._vegas=new i(this,t))});if("string"==typeof t){if(this.each(function(){var i=this._vegas;if(!i)throw new Error("No Vegas applied to this element.");"function"==typeof i[t]&&"_"!==t[0]?e=i[t].apply(i,[].slice.call(n,1)):o=!0}),o)throw new Error('No method "'+t+'" in Vegas.');return void 0!==e?e:this}},t.vegas={},t.vegas.defaults=e,t.vegas.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto);